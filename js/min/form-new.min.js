$(function(){function e(){for(var e=!1,r=1;t>r;++r){var i=n(r);-1==i&&(e=!0)}$("#formElem").data("errors",e)}function n(e){if(e!=t){var n=1,r=!1;$("#formElem").children(":nth-child("+parseInt(e)+")").find(":input:not(button)").each(function(){var e=$(this),n=jQuery.trim(e.val()).length;""==n?(r=!0,e.css("border-bottom","5px solid #EF494F")):e.css("border-bottom","0")});var i=$("#navigation li:nth-child("+parseInt(e)+") a");i.parent().find(".error,.checked").remove();var a="checked";return r&&(n=-1,a="error"),$('<span class="'+a+'"></span>').insertAfter(i),n}}var t=$("#formElem").children().length;console.log(t);var r=1,i=0,a=new Array;$("#steps .step").each(function(e){var n=$(this);a[e]=i,i+=n.width()}),$("#steps").width(i),$("#navigation").show(),$("#navigation a").bind("click",function(i){i.preventDefault();var o=$(this),s=r;o.closest("ul").find("li").removeClass("selected"),o.parent().addClass("selected"),r=o.parent().index()+1,$("#steps").stop().animate({marginLeft:"-"+a[r-1]+"px"},500,function(){r==t?e():n(s),$("#formElem").children(":nth-child("+parseInt(r)+")").find(":input:first").focus()}),i.preventDefault()}),$("#formElem > fieldset").each(function(){var e=$(this);e.children(":last").find(":input").keydown(function(e){(9==e.which||13==e.which)&&($("#navigation li:nth-child("+(parseInt(r)+1)+") a").click(),$(this).blur(),e.preventDefault())})}),$("#send").bind("click",function(){return $("#formElem").data("errors")?(alert("Ops! Non hai riempito i moduli nel modo corretto"),!1):void 0})});